<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Vue.js App</title>
  <!-- <link rel="stylesheet" href="./todo.css"> -->
</head>

<body>

  <div id="app">
    <h1>todoリスト作成</h1>
    <p>※同じ値は入力しないでください</p>

    <!-- 画面に表示するラジオボタン　v-for使えたら使う -->
    <input type="radio" v-model="current" :value="optionsLabel[0].value">{{ optionsLabel[0].label }}
    <input type="radio" v-model="current" :value="optionsLabel[1].value">{{ optionsLabel[1].label }}
    <input type="radio" v-model="current" :value="optionsLabel[2].value">{{ optionsLabel[2].label }}

    <!-- 画面に表示する件数 表示する配列の個数（長さを指定）-->
    （{{ computedTodos.length }} 件を表示）

    <!-- TODOリストを表示する -->
    <table>
      <thead>
        <tr>
          <th class="comment">コメント</th>
          <th class="state">状態</th>
          <th class="button">-</th>
        </tr>
      </thead>
      <tbody>
        <!-- 配列の中身を表示する。
          　　1.まずはdataオプションのtodos配列を表示することから始める
        　　　2.状態管理をしているradioボタンで選択されているstatesのものだけ表示するには
        　　　　　選択されているstatesの要素だけ入った配列が必要。
        　　　　 dataオプションでもう１個作っても良いが、今回はcomputedプロパティで
        　　　　　選択されているstatasだけの配列を作成する。
        　　　　computedにすれば値が変更された場合も検知して反映してくれる。
           -->
        <tr v-for="todo in computedTodos">
          <td>{{ todo.comment }}</td>
          <td class="state">
            <!-- 状態変更ボタン -->
            <button @click="changeStateTodo(todo)">
              <!-- stateの値を参照して切り替えするパターン -->
              <!-- {{ options[todo.state] }} -->
              <!-- stateの値でv-ifでボタンの文字表示を変える -->
              <span v-if="todo.state === 0">作業中</span>
              <span v-if="todo.state === 1">完了</span>
            </button>
          </td>
          <td class="button">
            <!-- 削除ボタン -->
            <!-- <button v-on:click.ctrl="removeTodo(todo)"> -->
            <button @click="removeTodo(todo)">
              削除
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- todosへの追加 -->
    <h2>新しい作業の追加</h2>
    <div class="add-form">
      <!-- todo内容入力フォーム -->
      コメント <input v-model="inputMozi">
      <!-- 追加ボタン -->
      <button @click="addTodo">追加</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue"></script>
  <script src="./todo.js"></script>
</body>

</html>